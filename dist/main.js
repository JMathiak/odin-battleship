(()=>{function t(t){let e={};return e.type=t,e.board=r={ships:[],board:[["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"]],checkForValidPlacement:function(t){if(null==this.ships[0])return!0;let e=t.startingCord.startingXCord,r=t.startingCord.startingYCord,o=t.endingCord.endingXCord,a=t.endingCord.endingYCord;if("vertical"==t.direction){if(a>6)return!1;for(let t=r;t<a;t++)if("empty"!==this.board[t][e])return!1}else if("horizontal"==t.direction){if(o>6)return!1;for(let t=e;t<o;t++)if("empty"!==this.board[r][t])return!1}return!0},placeShip:function(t,e,o,a,n){let i={},h={startingXCord:n,startingYCord:a};"horizontal"==t?(i.endingXCord=n+o-1,i.endingYCord=a):"vertical"==t&&(i.endingXCord=n,i.endingYCord=a+o-1);let m=function(t,e,r,o,a){var n={};if(n.name=t,n.length=r,n.startingCord=o,n.endingCord=a,n.health=[],n.sunk=!1,n.direction=e,"horizontal"==e)for(let t=0;t<r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord+t,yCord:o.startingYCord}});else if("vertical"==e)for(let t=0;t<r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord,yCord:o.startingYCord+t}});return n.isSunk=function(){for(let t=0;t<this.length;t++)if("false"===this.health[t].hitStatus)return!1;return this.sunk=!0,!0},n.hit=function(t){this.health[t].hitStatus="true"},n}(e,t,o,h,i);if(0==this.checkForValidPlacement(m))return!1;if(r.ships.push(m),"horizontal"==t)for(let t=0;t<o;t++){let e={name:m.name,spot:m.health[t]};this.board[a][n+t]=e}else if("vertical"==t)for(let t=0;t<o;t++){let e={name:m.name,spot:m.health[t]};this.board[a+t][n]=e}return!0},receiveAttack:function(t,e){if("empty"!==this.board[t][e]&&"miss"!==this.board[t][e]){let r=this.board[t][e].name,o=this.ships.filter((t=>t.name==r))[0],a=o.health.filter((r=>r.coordinates.xCord===e&&r.coordinates.yCord===t));return o.hit(a[0].shipPoint),o.isSunk(),!0}return"empty"==this.board[t][e]?(this.board[t][e]="miss",!0):"miss"!=this.board[t][e]&&"true"!=this.board[t][e].spot.hitStatus},checkForAllSunk:function(){for(let t=0;t<this.ships.length;t++)if(0==this.ships[t].sunk)return!1;return!0}},e;var r}!function(){let e=t("human"),r=t("computer"),o=null,a=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],n=[5,4,3,3,2],i=["horizontal","vertical"],h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random()),p=Math.floor(1*Math.random());for(let t=0;t<a.length;t++)for(;!r.board.placeShip(i[p],a[t],n[t],m,h);)h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());for(let t=0;t<a.length;t++)for(;!e.board.placeShip(i[p],a[t],n[t],m,h);)h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());for(;null==o;){for(h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());!r.board.receiveAttack(m,h);)h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());if(1==r.board.checkForAllSunk()&&(o="Human"),null==o){for(h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());!e.board.receiveAttack(m,h);)h=Math.floor(7*Math.random()),m=Math.floor(7*Math.random());1==e.board.checkForAllSunk()&&(o="Computer")}}}()})();
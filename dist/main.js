(()=>{"use strict";const t=function(t){let e=document.getElementById(t),r=["A","B","C","D","E","F","G"];for(let t=0;t<8;t++){let o=document.createElement("div");if(o.className="row",o.setAttribute("Y-Cord",t),0==t){let t=document.createElement("div");t.className="box",t.innerText="Y/X ",o.appendChild(t)}for(let e=0;e<8;e++){let a=document.createElement("div");a.className="box",a.setAttribute("X-Cord",e),0==t?7!==e&&(a.innerText=r[e],a.innerText+="("+e+")"):0==e&&(a.innerText=t),7==e&&0==t||o.appendChild(a)}e.appendChild(o)}};function e(t,e,r,o,a){var n={};if(n.name=t,n.length=r,n.startingCord=o,n.endingCord=a,n.health=[],n.sunk=!1,n.direction=e,"horizontal"==e)for(let t=1;t<=r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord+t,yCord:o.startingYCord}});else if("vertical"==e)for(let t=1;t<=r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord,yCord:o.startingYCord+t}});return n.isSunk=function(){for(let t=0;t<this.length;t++)if("false"===this.health[t].hitStatus)return!1;return this.sunk=!0,!0},n.hit=function(t){this.health[t].hitStatus="true"},n}function r(){var t={ships:[],board:[["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"]],checkForValidPlacement:function(t){let e=t.startingCord.startingXCord,r=t.startingCord.startingYCord,o=t.endingCord.endingXCord,a=t.endingCord.endingYCord;if("vertical"==t.direction){if(6==r)return!1;if(a>6)return console.log(t.name,a),!1;for(let o=r;o<=a;o++)if(console.log(t.name,this.board[o][e]),"empty"!=this.board[o][e])return!1}else if("horizontal"==t.direction){if(6==e)return!1;if(o>6)return!1;for(let a=e;a<=o;a++)if(console.log(t.name,this.board[r][a]),"empty"!=this.board[r][a])return!1}return!0},placeShip:function(r,o,a,n,i){let h={},l={startingXCord:i,startingYCord:n};"horizontal"==r?(h.endingXCord=i+a-1,h.endingYCord=n):"vertical"==r&&(h.endingXCord=i,h.endingYCord=n+a-1);let m=e(o,r,a,l,h);if(0==this.checkForValidPlacement(m))return!1;if(t.ships.push(m),"horizontal"==r)for(let t=0;t<a;t++){let e={name:m.name,spot:m.health[t]};this.board[n][i+t]=e}else if("vertical"==r)for(let t=0;t<a;t++){let e={name:m.name,spot:m.health[t]};this.board[n+t][i]=e}return!0},receiveAttack:function(t,e){if("empty"!==this.board[t][e]&&"miss"!==this.board[t][e]){let r=this.board[t][e].name,o=this.ships.filter((t=>t.name==r))[0],a=o.health.filter((r=>r.coordinates.xCord===e&&r.coordinates.yCord===t));return o.hit(a[0].shipPoint),o.isSunk(),!0}return"empty"==this.board[t][e]?(this.board[t][e]="miss",!0):"miss"!=this.board[t][e]&&"true"!=this.board[t][e].spot.hitStatus},checkForAllSunk:function(){for(let t=0;t<this.ships.length;t++)if(0==this.ships[t].sunk)return!1;return!0}};return t}function o(t){let e={};return e.type=t,e.board=r(),e}t("player"),t("guess"),exports.createShip=e,exports.createGameBoard=r,exports.gameLoop=function(){let t=o("human"),e=o("computer"),r=null,a=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],n=[5,4,3,3,2],i=["horizontal","vertical"],h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random()),m=Math.floor(1*Math.random());for(let t=0;t<a.length;t++)for(;!e.board.placeShip(i[m],a[t],n[t],l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());for(let e=0;e<a.length;e++)for(;!t.board.placeShip(i[m],a[e],n[e],l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());for(;null==r;){for(h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());!e.board.receiveAttack(l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());if(1==e.board.checkForAllSunk()&&(r="Human"),null==r){for(h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());!t.board.receiveAttack(l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());1==t.board.checkForAllSunk()&&(r="Computer")}}return r}})();
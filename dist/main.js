(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{pS:()=>y,$N:()=>p,IE:()=>u,EA:()=>h});let t=[{name:"Carrier",length:5,placed:!1},{name:"Battleship",length:4,placed:!1},{name:"Cruiser",length:3,placed:!1},{name:"Submarine",length:3,placed:!1},{name:"Destroyer",length:2,placed:!1}],r=0;function n(e){let t=document.getElementById(e),r=["A","B","C","D","E","F","G"];for(let e=0;e<8;e++){let n=document.createElement("div");if(n.className="row",n.setAttribute("Y-Cord",e-1),0==e){let e=document.createElement("div");e.className="box",e.innerText="Y/X ",n.appendChild(e)}for(let t=0;t<8;t++){let o=document.createElement("div");o.className="box",0==e?7!==t&&(o.innerText=r[t],o.innerText+="("+t+")"):0==t&&(o.innerText=e-1),7==t&&0==e||(o.setAttribute("X-Cord",t-1),n.appendChild(o))}t.appendChild(n)}}function o(){let e=document.getElementById("player").getElementsByClassName("row");for(let t=1;t<e.length;t++){let r=e[t],n=r.getAttribute("y-cord");for(let e=1;e<r.childNodes.length;e++){let t=r.childNodes[e],o=t.getAttribute("x-cord");"empty"==h.board.board[n][o]&&t.addEventListener("click",l)}}}function l(){let e=document.querySelector('input[name = "direction"]:checked').value;1==h.board.placeShip(e,t[r].name,t[r].length,event.target.parentNode.getAttribute("y-cord"),event.target.getAttribute("x-cord"))&&function(e,t,n){let a=document.getElementById(e).getElementsByClassName("row");for(let e=1;e<a.length;e++){let r=a[e],n=r.getAttribute("y-cord");for(let e=1;e<r.childNodes.length;e++){let o=r.childNodes[e],l=o.getAttribute("x-cord");"empty"!==t.board.board[n][l]&&"miss"!==t.board.board[n][l]&&o.classList.add("ship")}}!function(){let e=document.getElementById("player").getElementsByClassName("row");for(let t=1;t<e.length;t++){let r=e[t];for(let e=1;e<r.childNodes.length;e++)r.childNodes[e].removeEventListener("click",l)}}(),r++,r<5&&o(),5==r&&(u=!0,document.getElementById("direction-form").style.display="none")}("player",h)}function a(){let e=event.target.parentNode.getAttribute("y-cord"),t=event.target.getAttribute("x-cord"),r='[y-Cord="'+e+'"]',n='[x-Cord="'+t+'"]',o=document.getElementById("guess").querySelectorAll(r)[0].querySelectorAll(n)[0];if(y.board.receiveAttack(e,t),"miss"==y.board.board[e][t]?o.classList.add("miss"):"empty"!=y.board.board[e][t]&&o.classList.add("hit"),o.removeEventListener("click",a),1==y.board.checkForAllSunk())return void i("User");let l=Math.floor(7*Math.random()),d=Math.floor(7*Math.random());for(;!h.board.receiveAttack(d,l);)l=Math.floor(7*Math.random()),d=Math.floor(7*Math.random());let s='[y-cord="'+d+'"]',m='[x-cord="'+l+'"]',c=document.getElementById("player").querySelectorAll(s)[0].querySelectorAll(m)[0];"miss"==h.board.board[d][l]?c.classList.add("miss"):"empty"!=y.board.board[e][t]&&c.classList.add("hit"),1!=h.board.checkForAllSunk()||i("Computer")}function i(e){let t=document.getElementById("display-winner-modal"),r=document.getElementById("winner-modal-text");t.style.display="block",r.innerHTML="The winner is the "+e}const d=function(){var e={ships:[],board:[["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"]],checkForValidPlacement:function(e){let t=e.startingCord.startingXCord,r=e.startingCord.startingYCord,n=e.endingCord.endingXCord,o=e.endingCord.endingYCord;if("vertical"==e.direction){if(6==r)return!1;if(o>6)return!1;for(let e=r;e<=o;e++)if("empty"!=this.board[e][t])return!1}else if("horizontal"==e.direction){if(6==t)return!1;if(n>6)return!1;for(let e=t;e<=n;e++)if("empty"!=this.board[r][e])return!1}return!0},placeShip:function(t,r,n,o,l){let a={},i={startingXCord:l,startingYCord:o};"horizontal"==t?(a.endingXCord=parseInt(l)+n-1,a.endingYCord=o):"vertical"==t&&(a.endingXCord=l,a.endingYCord=parseInt(o)+n-1);let d=function(e,t,r,n,o){var l={};if(l.name=e,l.length=r,l.startingCord=n,l.endingCord=o,l.health=[],l.sunk=!1,l.direction=t,"horizontal"==t)for(let e=0;e<=r;e++)l.health.push({shipPoint:e,hitStatus:"false",coordinates:{xCord:parseInt(n.startingXCord)+e,yCord:parseInt(n.startingYCord)}});else if("vertical"==t)for(let e=0;e<=r;e++)l.health.push({shipPoint:e,hitStatus:"false",coordinates:{xCord:n.startingXCord,yCord:parseInt(n.startingYCord)+e}});return l.isSunk=function(){for(let e=0;e<this.length;e++)if("false"==this.health[e].hitStatus)return!1;return this.sunk=!0,!0},l.hit=function(e){this.health[e].hitStatus="true"},l}(r,t,n,i,a);if(0==this.checkForValidPlacement(d))return!1;if(e.ships.push(d),"horizontal"==t)for(let e=0;e<n;e++){let t={name:d.name,spot:d.health[e]};this.board[o][parseInt(l)+e]=t}else if("vertical"==t)for(let e=0;e<n;e++){let t={name:d.name,spot:d.health[e]};this.board[parseInt(o)+e][l]=t}return!0},receiveAttack:function(e,t){if("empty"!==this.board[e][t]&&"miss"!==this.board[e][t]){let r=this.board[e][t].name,n=this.ships.filter((e=>e.name==r))[0],o=n.health.filter((r=>r.coordinates.xCord==t&&r.coordinates.yCord==e));return n.hit(o[0].shipPoint),n.isSunk(),!0}return"empty"==this.board[e][t]?(this.board[e][t]="miss",!0):"miss"!=this.board[e][t]&&"true"!=this.board[e][t].spot.hitStatus},checkForAllSunk:function(){for(let e=0;e<this.ships.length;e++)if(0==this.ships[e].sunk)return!1;return!0}};return e},s=function(e){let t={};return t.type=e,t.board=d(),t};let m=[{name:"Carrier",length:5,placed:!1},{name:"Battleship",length:4,placed:!1},{name:"Cruiser",length:3,placed:!1},{name:"Submarine",length:3,placed:!1},{name:"Destroyer",length:2,placed:!1}];function c(){1==u?(function(){let e=["horizontal","vertical"],t=Math.floor(7*Math.random()),r=Math.floor(7*Math.random()),n=Math.floor(2*Math.random());for(let o=0;o<m.length;o++)for(;!y.board.placeShip(e[n],m[o].name,m[o].length,r,t);)t=Math.floor(7*Math.random()),r=Math.floor(7*Math.random()),n=Math.floor(2*Math.random())}(),function(){let e=document.getElementById("guess").getElementsByClassName("row");for(let t=1;t<e.length;t++){let r=e[t];r.getAttribute("y-cord");for(let e=1;e<r.childNodes.length;e++){let t=r.childNodes[e];t.getAttribute("x-cord"),t.addEventListener("click",a)}}}()):setTimeout(c,500)}function p(){!function(){r=0;let e=document.getElementById("player"),t=document.getElementById("guess");for(;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)t.removeChild(t.firstChild)}(),function(){for(let e=0;e<7;e++)for(let t=0;t<7;t++)h.board.board[e][t]="empty",y.board.board[e][t]="empty"}(),u=!1,document.getElementById("direction-form").style.display="block",n("player"),o(),n("guess"),c()}!function(){let e=document.getElementById("play-again"),t=document.getElementById("okay-button"),r=document.getElementById("play-again-modal"),n=document.getElementById("display-winner-modal"),o=document.getElementById("how-to-play");e.addEventListener("click",p),t.addEventListener("click",(function(){n.style.display="none"})),r.addEventListener("click",(function(){n.style.display="none",p()})),document.getElementById("play-button").addEventListener("click",(function(){o.style.display="none"})),window.onclick=function(e){e.target==n&&(n.style.display="none"),e.target==o&&(o.style.display="none")}}();let h=s("human"),y=s("computer"),u=!1;n("player"),o(),n("guess"),c(),exports.createShip=createShip,exports.createGameBoard=createGameBoard,exports.gameLoop=gameLoop})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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K0QsT0FHRnZHLFNBQVNDLGVBQWUsZUFBZXNCLGlCQUFpQixTQUFTLFdBQy9EMEYsRUFBTzFFLE1BQU1DLFFBQVUsVUFFekIwRSxPQUFPQyxRQUFVLFNBQVV0RixHQUNyQkEsRUFBTUMsUUFBVWdDLElBQ2xCQSxFQUFNdkIsTUFBTUMsUUFBVSxRQUdwQlgsRUFBTUMsUUFBVW1GLElBQ2xCQSxFQUFPMUUsTUFBTUMsUUFBVSxTSS9KN0I0RSxHQUNBLElBQUkvRixFQUFPLEVBQWEsU0FDcEI0QixFQUFPLEVBQWEsWUFFcEJYLEdBQWMsRUE5QmhCekMsRUFBWSxVQUNaZSxJQUNBZixFQUFZLFNBQ1pxRyxJQW1FRnZILFFBQVEwSSxXQUFhQSxXQUNyQjFJLFFBQVEySSxnQkFBa0JBLGdCQUMxQjNJLFFBQVE0SSxTQUFXQSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvbW9kdWxlcy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL21vZHVsZXMvcGxheWVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCB7IHVzZXIsIGNvbXAsIHNoaXBzUGxhY2VkLCBwbGF5QWdhaW4gfSBmcm9tIFwiLi4vaW5kZXguanNcIjtcclxuXHJcbmxldCBzaGlwcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIkNhcnJpZXJcIixcclxuICAgIGxlbmd0aDogNSxcclxuICAgIHBsYWNlZDogZmFsc2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhdHRsZXNoaXBcIixcclxuICAgIGxlbmd0aDogNCxcclxuICAgIHBsYWNlZDogZmFsc2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkNydWlzZXJcIixcclxuICAgIGxlbmd0aDogMyxcclxuICAgIHBsYWNlZDogZmFsc2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlN1Ym1hcmluZVwiLFxyXG4gICAgbGVuZ3RoOiAzLFxyXG4gICAgcGxhY2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiRGVzdHJveWVyXCIsXHJcbiAgICBsZW5ndGg6IDIsXHJcbiAgICBwbGFjZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbl07XHJcbmxldCBzaGlwSW5kZXggPSAwO1xyXG5mdW5jdGlvbiBlbXB0eVJlbmRlcihkaXYpIHtcclxuICBsZXQgcGFyZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2KTtcclxuICBsZXQgcm93QXJyID0gW1wiQVwiLCBcIkJcIiwgXCJDXCIsIFwiRFwiLCBcIkVcIiwgXCJGXCIsIFwiR1wiXTtcclxuICAvL091dGVyIGxvb3AgaXMgcm93cywgaW5uZXIgbG9vcCBpcyBjb2x1bW5zXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcclxuICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcm93LmNsYXNzTmFtZSA9IFwicm93XCI7XHJcbiAgICByb3cuc2V0QXR0cmlidXRlKFwiWS1Db3JkXCIsIGkgLSAxKTtcclxuICAgIGlmIChpID09IDApIHtcclxuICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGJveC5jbGFzc05hbWUgPSBcImJveFwiO1xyXG4gICAgICBib3guaW5uZXJUZXh0ID0gXCJZL1ggXCI7XHJcbiAgICAgIHJvdy5hcHBlbmRDaGlsZChib3gpO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyBqKyspIHtcclxuICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGJveC5jbGFzc05hbWUgPSBcImJveFwiO1xyXG4gICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgaWYgKGogIT09IDcpIHtcclxuICAgICAgICAgIGJveC5pbm5lclRleHQgPSByb3dBcnJbal07XHJcbiAgICAgICAgICBib3guaW5uZXJUZXh0ICs9IFwiKFwiICsgaiArIFwiKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChqID09IDApIHtcclxuICAgICAgICBib3guaW5uZXJUZXh0ID0gaSAtIDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChqID09IDcgJiYgaSA9PSAwKSB7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYm94LnNldEF0dHJpYnV0ZShcIlgtQ29yZFwiLCBqIC0gMSk7XHJcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGJveCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHBhcmVudERpdi5hcHBlbmRDaGlsZChyb3cpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBkZWxldGVCb2FyZChkaXYpIHtcclxuICBsZXQgcGFyZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQWRkU2hpcHMoKSB7XHJcbiAgbGV0IHBhcmVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyXCIpO1xyXG4gIGxldCByb3dzID0gcGFyZW50RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyb3dcIik7XHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgY3VyUm93ID0gcm93c1tpXTtcclxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY3VyUm93LmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgbGV0IGN1ckJveCA9IGN1clJvdy5jaGlsZE5vZGVzW2pdO1xyXG4gICAgICBjdXJCb3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQWRkU2hpcENsaWNrKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuZnVuY3Rpb24gcmVmcmVzaEJvYXJkKGRpdiwgcGxheWVyLCBzaGlwKSB7XHJcbiAgbGV0IHBhcmVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdik7XHJcbiAgbGV0IHJvd3MgPSBwYXJlbnREaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInJvd1wiKTtcclxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBjdXJSb3cgPSByb3dzW2ldO1xyXG4gICAgbGV0IGN1cllDb3JkID0gY3VyUm93LmdldEF0dHJpYnV0ZShcInktY29yZFwiKTtcclxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY3VyUm93LmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgbGV0IGN1ckJveCA9IGN1clJvdy5jaGlsZE5vZGVzW2pdO1xyXG4gICAgICBsZXQgY3VyWENvcmQgPSBjdXJCb3guZ2V0QXR0cmlidXRlKFwieC1jb3JkXCIpO1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcGxheWVyLmJvYXJkLmJvYXJkW2N1cllDb3JkXVtjdXJYQ29yZF0gIT09IFwiZW1wdHlcIiAmJlxyXG4gICAgICAgIHBsYXllci5ib2FyZC5ib2FyZFtjdXJZQ29yZF1bY3VyWENvcmRdICE9PSBcIm1pc3NcIlxyXG4gICAgICApIHtcclxuICAgICAgICBjdXJCb3guY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmVtb3ZlQWRkU2hpcHMoKTtcclxuICBzaGlwSW5kZXgrKztcclxuICBpZiAoc2hpcEluZGV4IDwgNSkge1xyXG4gICAgcGxhY2VTaGlwTGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIGlmIChzaGlwSW5kZXggPT0gNSkge1xyXG4gICAgc2hpcHNQbGFjZWQgPSB0cnVlO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXJlY3Rpb24tZm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwbGFjZVNoaXBMaXN0ZW5lcnMoKSB7XHJcbiAgbGV0IHBhcmVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyXCIpO1xyXG4gIGxldCByb3dzID0gcGFyZW50RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyb3dcIik7XHJcbiAgLy9sZXQgZGlyZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpcmVjdGlvbi1yYWRpbycpLnZhbHVlO1xyXG4gIGxldCBkaXJlY3Rpb24gPSBcImhvcml6b250YWxcIjtcclxuICAvL091dGVyIGl0ZXJhdGVzIHRocm91Z2ggcm93cywgaW5uZXIgdGhyb3VnaCBib3hlcyBpbiByb3dcclxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBjdXJSb3cgPSByb3dzW2ldO1xyXG4gICAgbGV0IGN1cllDb3JkID0gY3VyUm93LmdldEF0dHJpYnV0ZShcInktY29yZFwiKTtcclxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY3VyUm93LmNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgbGV0IGN1ckJveCA9IGN1clJvdy5jaGlsZE5vZGVzW2pdO1xyXG4gICAgICBsZXQgY3VyWENvcmQgPSBjdXJCb3guZ2V0QXR0cmlidXRlKFwieC1jb3JkXCIpO1xyXG4gICAgICBpZiAodXNlci5ib2FyZC5ib2FyZFtjdXJZQ29yZF1bY3VyWENvcmRdID09IFwiZW1wdHlcIikge1xyXG4gICAgICAgIGN1ckJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25BZGRTaGlwQ2xpY2spO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkFkZFNoaXBDbGljaygpIHtcclxuICBsZXQgZGlyZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICdpbnB1dFtuYW1lID0gXCJkaXJlY3Rpb25cIl06Y2hlY2tlZCdcclxuICApLnZhbHVlO1xyXG5cclxuICBpZiAoXHJcbiAgICB1c2VyLmJvYXJkLnBsYWNlU2hpcChcclxuICAgICAgZGlyZWN0aW9uLFxyXG4gICAgICBzaGlwc1tzaGlwSW5kZXhdLm5hbWUsXHJcbiAgICAgIHNoaXBzW3NoaXBJbmRleF0ubGVuZ3RoLFxyXG4gICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoXCJ5LWNvcmRcIiksXHJcbiAgICAgIGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ4LWNvcmRcIilcclxuICAgICkgPT0gdHJ1ZVxyXG4gICkge1xyXG4gICAgcmVmcmVzaEJvYXJkKFwicGxheWVyXCIsIHVzZXIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ3Vlc3NDbGljaygpIHtcclxuICBsZXQgdXNlcllHdWVzcyA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcInktY29yZFwiKTtcclxuICBsZXQgdXNlclhHdWVzcyA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJ4LWNvcmRcIik7XHJcbiAgbGV0IHVzZXJZUXVlcnkgPSBgW3ktQ29yZD1cImAgKyB1c2VyWUd1ZXNzICsgYFwiXWA7XHJcbiAgbGV0IHVzZXJYUXVlcnkgPSBgW3gtQ29yZD1cImAgKyB1c2VyWEd1ZXNzICsgYFwiXWA7XHJcbiAgbGV0IHVzZXJCb3hPZkludGVyZXN0ID0gZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImd1ZXNzXCIpXHJcbiAgICAucXVlcnlTZWxlY3RvckFsbCh1c2VyWVF1ZXJ5KVswXVxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwodXNlclhRdWVyeSlbMF07XHJcblxyXG4gIGNvbXAuYm9hcmQucmVjZWl2ZUF0dGFjayh1c2VyWUd1ZXNzLCB1c2VyWEd1ZXNzKTtcclxuICBpZiAoY29tcC5ib2FyZC5ib2FyZFt1c2VyWUd1ZXNzXVt1c2VyWEd1ZXNzXSA9PSBcIm1pc3NcIikge1xyXG4gICAgdXNlckJveE9mSW50ZXJlc3QuY2xhc3NMaXN0LmFkZChcIm1pc3NcIik7XHJcbiAgfSBlbHNlIGlmIChjb21wLmJvYXJkLmJvYXJkW3VzZXJZR3Vlc3NdW3VzZXJYR3Vlc3NdICE9IFwiZW1wdHlcIikge1xyXG4gICAgdXNlckJveE9mSW50ZXJlc3QuY2xhc3NMaXN0LmFkZChcImhpdFwiKTtcclxuICB9XHJcbiAgdXNlckJveE9mSW50ZXJlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGd1ZXNzQ2xpY2spO1xyXG4gIGlmIChjb21wLmJvYXJkLmNoZWNrRm9yQWxsU3VuaygpID09IHRydWUpIHtcclxuICAgIGRpc3BsYXlNb2RhbChcIlVzZXJcIik7XHJcbiAgICAvL01ldGhvZCB0byByZW1vdmUgYWxsIGxpc3RlbmVyc1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgbGV0IGNvbXBYR3Vlc3MgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KTtcclxuICBsZXQgY29tcFlHdWVzcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpO1xyXG4gIHdoaWxlICghdXNlci5ib2FyZC5yZWNlaXZlQXR0YWNrKGNvbXBZR3Vlc3MsIGNvbXBYR3Vlc3MpKSB7XHJcbiAgICBjb21wWEd1ZXNzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XHJcbiAgICBjb21wWUd1ZXNzID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XHJcbiAgfVxyXG5cclxuICBsZXQgY29tcFlRdWVyeSA9IGBbeS1jb3JkPVwiYCArIGNvbXBZR3Vlc3MgKyBgXCJdYDtcclxuICBsZXQgY29tcFhRdWVyeSA9IGBbeC1jb3JkPVwiYCArIGNvbXBYR3Vlc3MgKyBgXCJdYDtcclxuICBsZXQgY29tcEJveE9mSW50ZXJlc3QgPSBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwicGxheWVyXCIpXHJcbiAgICAucXVlcnlTZWxlY3RvckFsbChjb21wWVF1ZXJ5KVswXVxyXG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoY29tcFhRdWVyeSlbMF07XHJcblxyXG4gIGlmICh1c2VyLmJvYXJkLmJvYXJkW2NvbXBZR3Vlc3NdW2NvbXBYR3Vlc3NdID09IFwibWlzc1wiKSB7XHJcbiAgICBjb21wQm94T2ZJbnRlcmVzdC5jbGFzc0xpc3QuYWRkKFwibWlzc1wiKTtcclxuICB9IGVsc2UgaWYgKGNvbXAuYm9hcmQuYm9hcmRbdXNlcllHdWVzc11bdXNlclhHdWVzc10gIT0gXCJlbXB0eVwiKSB7XHJcbiAgICBjb21wQm94T2ZJbnRlcmVzdC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xyXG4gIH1cclxuICBpZiAodXNlci5ib2FyZC5jaGVja0ZvckFsbFN1bmsoKSA9PSB0cnVlKSB7XHJcbiAgICBkaXNwbGF5TW9kYWwoXCJDb21wdXRlclwiKTtcclxuICAgIC8vTWV0aG9kIHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzXHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRHdWVzc0NsaWNrKCkge1xyXG4gIGxldCBwYXJlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1ZXNzXCIpO1xyXG4gIGxldCByb3dzID0gcGFyZW50RGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyb3dcIik7XHJcbiAgLy9sZXQgZGlyZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpcmVjdGlvbi1yYWRpbycpLnZhbHVlO1xyXG4gIC8vT3V0ZXIgaXRlcmF0ZXMgdGhyb3VnaCByb3dzLCBpbm5lciB0aHJvdWdoIGJveGVzIGluIHJvd1xyXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IGN1clJvdyA9IHJvd3NbaV07XHJcbiAgICBsZXQgY3VyWUNvcmQgPSBjdXJSb3cuZ2V0QXR0cmlidXRlKFwieS1jb3JkXCIpO1xyXG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCBjdXJSb3cuY2hpbGROb2Rlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBsZXQgY3VyQm94ID0gY3VyUm93LmNoaWxkTm9kZXNbal07XHJcbiAgICAgIGxldCBjdXJYQ29yZCA9IGN1ckJveC5nZXRBdHRyaWJ1dGUoXCJ4LWNvcmRcIik7XHJcbiAgICAgIGN1ckJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ3Vlc3NDbGljayk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhckJvYXJkcygpIHtcclxuICBzaGlwSW5kZXggPSAwO1xyXG4gIGxldCB1c2VyQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllclwiKTtcclxuICBsZXQgZ3Vlc3NCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Vlc3NcIik7XHJcbiAgd2hpbGUgKHVzZXJCb2FyZC5maXJzdENoaWxkKSB7XHJcbiAgICB1c2VyQm9hcmQucmVtb3ZlQ2hpbGQodXNlckJvYXJkLmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuICB3aGlsZSAoZ3Vlc3NCb2FyZC5maXJzdENoaWxkKSB7XHJcbiAgICBndWVzc0JvYXJkLnJlbW92ZUNoaWxkKGd1ZXNzQm9hcmQuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5TW9kYWwod2lubmVyKSB7XHJcbiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXNwbGF5LXdpbm5lci1tb2RhbFwiKTtcclxuICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5uZXItbW9kYWwtdGV4dFwiKTtcclxuICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gIGRpdi5pbm5lckhUTUwgPSBcIlRoZSB3aW5uZXIgaXMgdGhlIFwiICsgd2lubmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0aWFsaXplQnV0dG9uKCkge1xyXG4gIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXktYWdhaW5cIik7XHJcbiAgbGV0IGJ1dHRvbjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9rYXktYnV0dG9uXCIpO1xyXG4gIGxldCBidXR0b240ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5LWFnYWluLW1vZGFsXCIpO1xyXG4gIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlzcGxheS13aW5uZXItbW9kYWxcIik7XHJcbiAgbGV0IG1vZGFsMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG93LXRvLXBsYXlcIik7XHJcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwbGF5QWdhaW4pO1xyXG4gIGJ1dHRvbjMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9KTtcclxuXHJcbiAgYnV0dG9uNC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgcGxheUFnYWluKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheS1idXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIG1vZGFsMi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgfSk7XHJcbiAgd2luZG93Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWwpIHtcclxuICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWwyKSB7XHJcbiAgICAgIG1vZGFsMi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBlbXB0eVJlbmRlcixcclxuICBwbGFjZVNoaXBMaXN0ZW5lcnMsXHJcbiAgYWRkR3Vlc3NDbGljayxcclxuICBjbGVhckJvYXJkcyxcclxuICBpbml0aWFsaXplQnV0dG9uLFxyXG59O1xyXG4iLCJmdW5jdGlvbiBjcmVhdGVTaGlwKG5hbWUsIGRpcmVjdGlvbiwgbGVuZ3RoLCBzdGFydGluZ0NvcmQsIGVuZGluZ0NvcmQpIHtcclxuICB2YXIgc2hpcCA9IHt9O1xyXG4gIHNoaXAubmFtZSA9IG5hbWU7XHJcbiAgc2hpcC5sZW5ndGggPSBsZW5ndGg7XHJcbiAgc2hpcC5zdGFydGluZ0NvcmQgPSBzdGFydGluZ0NvcmQ7XHJcbiAgc2hpcC5lbmRpbmdDb3JkID0gZW5kaW5nQ29yZDtcclxuICBzaGlwLmhlYWx0aCA9IFtdO1xyXG4gIHNoaXAuc3VuayA9IGZhbHNlO1xyXG4gIHNoaXAuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICBpZiAoZGlyZWN0aW9uID09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsZW5ndGg7IGkrKykge1xyXG4gICAgICBzaGlwLmhlYWx0aC5wdXNoKHtcclxuICAgICAgICBzaGlwUG9pbnQ6IGksXHJcbiAgICAgICAgaGl0U3RhdHVzOiBcImZhbHNlXCIsXHJcbiAgICAgICAgY29vcmRpbmF0ZXM6IHtcclxuICAgICAgICAgIHhDb3JkOiBwYXJzZUludChzdGFydGluZ0NvcmQuc3RhcnRpbmdYQ29yZCkgKyBpLFxyXG4gICAgICAgICAgeUNvcmQ6IHBhcnNlSW50KHN0YXJ0aW5nQ29yZC5zdGFydGluZ1lDb3JkKSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBcInZlcnRpY2FsXCIpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHNoaXAuaGVhbHRoLnB1c2goe1xyXG4gICAgICAgIHNoaXBQb2ludDogaSxcclxuICAgICAgICBoaXRTdGF0dXM6IFwiZmFsc2VcIixcclxuICAgICAgICBjb29yZGluYXRlczoge1xyXG4gICAgICAgICAgeENvcmQ6IHN0YXJ0aW5nQ29yZC5zdGFydGluZ1hDb3JkLFxyXG4gICAgICAgICAgeUNvcmQ6IHBhcnNlSW50KHN0YXJ0aW5nQ29yZC5zdGFydGluZ1lDb3JkKSArIGksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaGlwLmlzU3VuayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAodGhpcy5oZWFsdGhbal0uaGl0U3RhdHVzID09IFwiZmFsc2VcIikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5zdW5rID0gdHJ1ZTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIHNoaXAuaGl0ID0gZnVuY3Rpb24gKGhpdFBvaW50KSB7XHJcbiAgICB0aGlzLmhlYWx0aFtoaXRQb2ludF0uaGl0U3RhdHVzID0gXCJ0cnVlXCI7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHNoaXA7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVNoaXA7XHJcbiIsImltcG9ydCBjcmVhdGVTaGlwIGZyb20gXCIuL3NoaXBcIjtcclxuZnVuY3Rpb24gY3JlYXRlR2FtZUJvYXJkKCkge1xyXG4gIHZhciBnYW1lQm9hcmQgPSB7fTtcclxuICBnYW1lQm9hcmQuc2hpcHMgPSBbXTtcclxuICBnYW1lQm9hcmQuYm9hcmQgPSBbXHJcbiAgICBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICAgIFtcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCJdLFxyXG4gICAgW1wiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIl0sXHJcbiAgICBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICAgIFtcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCJdLFxyXG4gICAgW1wiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIl0sXHJcbiAgICBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICBdO1xyXG5cclxuICBnYW1lQm9hcmQuY2hlY2tGb3JWYWxpZFBsYWNlbWVudCA9IGZ1bmN0aW9uIChzaGlwVG9QbGFjZSkge1xyXG4gICAgbGV0IHN0YXJ0aW5nQ29sdW1uID0gc2hpcFRvUGxhY2Uuc3RhcnRpbmdDb3JkLnN0YXJ0aW5nWENvcmQ7XHJcbiAgICBsZXQgc3RhcnRpbmdSb3cgPSBzaGlwVG9QbGFjZS5zdGFydGluZ0NvcmQuc3RhcnRpbmdZQ29yZDtcclxuICAgIGxldCBlbmRpbmdDb2x1bW4gPSBzaGlwVG9QbGFjZS5lbmRpbmdDb3JkLmVuZGluZ1hDb3JkO1xyXG4gICAgbGV0IGVuZGluZ1JvdyA9IHNoaXBUb1BsYWNlLmVuZGluZ0NvcmQuZW5kaW5nWUNvcmQ7XHJcblxyXG4gICAgaWYgKHNoaXBUb1BsYWNlLmRpcmVjdGlvbiA9PSBcInZlcnRpY2FsXCIpIHtcclxuICAgICAgaWYgKHN0YXJ0aW5nUm93ID09IDYpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVuZGluZ1JvdyA+IDYpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0aW5nUm93OyBpIDw9IGVuZGluZ1JvdzsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbaV1bc3RhcnRpbmdDb2x1bW5dICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChzaGlwVG9QbGFjZS5kaXJlY3Rpb24gPT0gXCJob3Jpem9udGFsXCIpIHtcclxuICAgICAgaWYgKHN0YXJ0aW5nQ29sdW1uID09IDYpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVuZGluZ0NvbHVtbiA+IDYpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaiA9IHN0YXJ0aW5nQ29sdW1uOyBqIDw9IGVuZGluZ0NvbHVtbjsgaisrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm9hcmRbc3RhcnRpbmdSb3ddW2pdICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgZ2FtZUJvYXJkLnBsYWNlU2hpcCA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIG5hbWUsIGxlbmd0aCwgeUNvcmQsIHhDb3JkKSB7XHJcbiAgICBsZXQgZW5kaW5nQ29yZCA9IHt9O1xyXG4gICAgbGV0IHN0YXJ0aW5nQ29yZCA9IHsgc3RhcnRpbmdYQ29yZDogeENvcmQsIHN0YXJ0aW5nWUNvcmQ6IHlDb3JkIH07XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICBlbmRpbmdDb3JkLmVuZGluZ1hDb3JkID0gcGFyc2VJbnQoeENvcmQpICsgbGVuZ3RoIC0gMTtcclxuICAgICAgZW5kaW5nQ29yZC5lbmRpbmdZQ29yZCA9IHlDb3JkO1xyXG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gXCJ2ZXJ0aWNhbFwiKSB7XHJcbiAgICAgIGVuZGluZ0NvcmQuZW5kaW5nWENvcmQgPSB4Q29yZDtcclxuICAgICAgZW5kaW5nQ29yZC5lbmRpbmdZQ29yZCA9IHBhcnNlSW50KHlDb3JkKSArIGxlbmd0aCAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNoaXAgPSBjcmVhdGVTaGlwKG5hbWUsIGRpcmVjdGlvbiwgbGVuZ3RoLCBzdGFydGluZ0NvcmQsIGVuZGluZ0NvcmQpO1xyXG4gICAgaWYgKHRoaXMuY2hlY2tGb3JWYWxpZFBsYWNlbWVudChzaGlwKSA9PSBmYWxzZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnYW1lQm9hcmQuc2hpcHMucHVzaChzaGlwKTtcclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxldCBwbGFjZU9iaiA9IHtcclxuICAgICAgICAgICAgbmFtZTogc2hpcC5uYW1lLFxyXG4gICAgICAgICAgICBzcG90OiBzaGlwLmhlYWx0aFtpXSxcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdGhpcy5ib2FyZFt5Q29yZF1bcGFyc2VJbnQoeENvcmQpICsgaV0gPSBwbGFjZU9iajtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IFwidmVydGljYWxcIikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxldCBwbGFjZU9iaiA9IHtcclxuICAgICAgICAgICAgbmFtZTogc2hpcC5uYW1lLFxyXG4gICAgICAgICAgICBzcG90OiBzaGlwLmhlYWx0aFtpXSxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0aGlzLmJvYXJkW3BhcnNlSW50KHlDb3JkKSArIGldW3hDb3JkXSA9IHBsYWNlT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgZ2FtZUJvYXJkLnJlY2VpdmVBdHRhY2sgPSBmdW5jdGlvbiAoeUNvcmQsIHhDb3JkKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuYm9hcmRbeUNvcmRdW3hDb3JkXSAhPT0gXCJlbXB0eVwiICYmXHJcbiAgICAgIHRoaXMuYm9hcmRbeUNvcmRdW3hDb3JkXSAhPT0gXCJtaXNzXCJcclxuICAgICkge1xyXG4gICAgICBsZXQgc2hpcE5hbWUgPSB0aGlzLmJvYXJkW3lDb3JkXVt4Q29yZF0ubmFtZTtcclxuICAgICAgbGV0IGZpbHRlcmVkQXJyID0gdGhpcy5zaGlwcy5maWx0ZXIoKHNoKSA9PiBzaC5uYW1lID09IHNoaXBOYW1lKTtcclxuICAgICAgbGV0IHNoaXAgPSBmaWx0ZXJlZEFyclswXTtcclxuXHJcbiAgICAgIGxldCBwb2ludEFyciA9IHNoaXAuaGVhbHRoLmZpbHRlcihcclxuICAgICAgICAocG9pbnQpID0+XHJcbiAgICAgICAgICBwb2ludC5jb29yZGluYXRlcy54Q29yZCA9PSB4Q29yZCAmJiBwb2ludC5jb29yZGluYXRlcy55Q29yZCA9PSB5Q29yZFxyXG4gICAgICApO1xyXG5cclxuICAgICAgc2hpcC5oaXQocG9pbnRBcnJbMF0uc2hpcFBvaW50KTtcclxuICAgICAgc2hpcC5pc1N1bmsoKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuYm9hcmRbeUNvcmRdW3hDb3JkXSA9PSBcImVtcHR5XCIpIHtcclxuICAgICAgdGhpcy5ib2FyZFt5Q29yZF1beENvcmRdID0gXCJtaXNzXCI7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgdGhpcy5ib2FyZFt5Q29yZF1beENvcmRdID09IFwibWlzc1wiIHx8XHJcbiAgICAgIHRoaXMuYm9hcmRbeUNvcmRdW3hDb3JkXS5zcG90LmhpdFN0YXR1cyA9PSBcInRydWVcIlxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGdhbWVCb2FyZC5jaGVja0ZvckFsbFN1bmsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMuc2hpcHNbaV0uc3VuayA9PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGdhbWVCb2FyZDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlR2FtZUJvYXJkO1xyXG4iLCJpbXBvcnQgY3JlYXRlR2FtZUJvYXJkIGZyb20gXCIuL2dhbWVib2FyZFwiO1xyXG5mdW5jdGlvbiBjcmVhdGVQbGF5ZXIodHlwZSkge1xyXG4gIGxldCBwbGF5ZXIgPSB7fTtcclxuICBwbGF5ZXIudHlwZSA9IHR5cGU7XHJcbiAgcGxheWVyLmJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKCk7XHJcblxyXG4gIHJldHVybiBwbGF5ZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVBsYXllcjtcclxuIiwiaW1wb3J0IHtcclxuICBlbXB0eVJlbmRlcixcclxuICBwbGFjZVNoaXBMaXN0ZW5lcnMsXHJcbiAgYWRkR3Vlc3NDbGljayxcclxuICBjbGVhckJvYXJkcyxcclxuICBpbml0aWFsaXplQnV0dG9uLFxyXG59IGZyb20gXCIuL21vZHVsZXMvYm9hcmRcIjtcclxuaW1wb3J0IGNyZWF0ZVBsYXllciBmcm9tIFwiLi9tb2R1bGVzL3BsYXllclwiO1xyXG5cclxubGV0IHNoaXBzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiQ2FycmllclwiLFxyXG4gICAgbGVuZ3RoOiA1LFxyXG4gICAgcGxhY2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmF0dGxlc2hpcFwiLFxyXG4gICAgbGVuZ3RoOiA0LFxyXG4gICAgcGxhY2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQ3J1aXNlclwiLFxyXG4gICAgbGVuZ3RoOiAzLFxyXG4gICAgcGxhY2VkOiBmYWxzZSxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiU3VibWFyaW5lXCIsXHJcbiAgICBsZW5ndGg6IDMsXHJcbiAgICBwbGFjZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJEZXN0cm95ZXJcIixcclxuICAgIGxlbmd0aDogMixcclxuICAgIHBsYWNlZDogZmFsc2UsXHJcbiAgfSxcclxuXTtcclxuXHJcbmZ1bmN0aW9uIHdhaXRGb3JTaGlwcygpIHtcclxuICBpZiAoc2hpcHNQbGFjZWQgIT0gdHJ1ZSkge1xyXG4gICAgc2V0VGltZW91dCh3YWl0Rm9yU2hpcHMsIDUwMCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHBsYWNlQ29tcHV0ZXJTaGlwcygpO1xyXG4gIGFkZEd1ZXNzQ2xpY2soKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGxhY2VDb21wdXRlclNoaXBzKCkge1xyXG4gIGxldCBkaXJlY3Rpb25zID0gW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCJdO1xyXG4gIGxldCB4Q29yZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpO1xyXG4gIGxldCB5Q29yZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDcpO1xyXG4gIGxldCBkaXJlY3Rpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB3aGlsZSAoXHJcbiAgICAgICFjb21wLmJvYXJkLnBsYWNlU2hpcChcclxuICAgICAgICBkaXJlY3Rpb25zW2RpcmVjdGlvbl0sXHJcbiAgICAgICAgc2hpcHNbaV0ubmFtZSxcclxuICAgICAgICBzaGlwc1tpXS5sZW5ndGgsXHJcbiAgICAgICAgeUNvcmQsXHJcbiAgICAgICAgeENvcmRcclxuICAgICAgKVxyXG4gICAgKSB7XHJcbiAgICAgIHhDb3JkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XHJcbiAgICAgIHlDb3JkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XHJcbiAgICAgIGRpcmVjdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXBHYW1lKCkge1xyXG4gIGVtcHR5UmVuZGVyKFwicGxheWVyXCIpO1xyXG4gIHBsYWNlU2hpcExpc3RlbmVycygpO1xyXG4gIGVtcHR5UmVuZGVyKFwiZ3Vlc3NcIik7XHJcbiAgd2FpdEZvclNoaXBzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXlBZ2FpbigpIHtcclxuICBjbGVhckJvYXJkcygpO1xyXG4gIGNsZWFyQXJyYXlzKCk7XHJcbiAgc2hpcHNQbGFjZWQgPSBmYWxzZTtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpcmVjdGlvbi1mb3JtXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgZW1wdHlSZW5kZXIoXCJwbGF5ZXJcIik7XHJcbiAgcGxhY2VTaGlwTGlzdGVuZXJzKCk7XHJcbiAgZW1wdHlSZW5kZXIoXCJndWVzc1wiKTtcclxuICB3YWl0Rm9yU2hpcHMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJBcnJheXMoKSB7XHJcbiAgLy9PdXR0ZXIgcm93cywgaW5uZXIgY29sdW1uc1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDc7IGorKykge1xyXG4gICAgICB1c2VyLmJvYXJkLmJvYXJkW2ldW2pdID0gXCJlbXB0eVwiO1xyXG4gICAgICBjb21wLmJvYXJkLmJvYXJkW2ldW2pdID0gXCJlbXB0eVwiO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5pbml0aWFsaXplQnV0dG9uKCk7XHJcbmxldCB1c2VyID0gY3JlYXRlUGxheWVyKFwiaHVtYW5cIik7XHJcbmxldCBjb21wID0gY3JlYXRlUGxheWVyKFwiY29tcHV0ZXJcIik7XHJcbmxldCB0dXJuQ291bnQgPSAwOyAvL05vdCB1c2VkP1xyXG5sZXQgc2hpcHNQbGFjZWQgPSBmYWxzZTtcclxuZXhwb3J0IHsgdXNlciwgY29tcCwgdHVybkNvdW50LCBzaGlwc1BsYWNlZCwgcGxheUFnYWluIH07XHJcbnNldFVwR2FtZSgpO1xyXG4vKlxyXG5BZnRlciB3YWl0IGZvciBzaGlwcywgY2FsbCBmdW5jdGlvbiB0aGF0IHNldHMgdXAgY29tcHV0ZXIgcGxheWVyXHJcbkRvIG5vdGhpbmcgdW50aWwgb24gY2xpY2sgZnVuY3Rpb24gaXMgY2FsbGVkXHJcbk9uIGNsaWNrIGZ1bmN0aW9uIGZvciBodW1hbiBndWVzc2VzOlxyXG4tR2V0IGNvb3JkaW5hdGVzXHJcbi1Db21wLnJlY2VpdmUgYXR0YWNrXHJcbi1VcGRhdGUgZ3Vlc3Mgc3F1YXJlIHdpdGggY2xhc3MgZm9yIGhpdCBvciBtaXNzXHJcbi1DaGVjayBmb3IgYWxsIHN1bmtcclxuLSBpZiBhbGwgc3VuaywgcmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIHJldHVybiwgYW5kIGRpc3BsYXkgd2lubmVyXHJcbi1pZiBub3QgYWxsIHN1bmssIHJlbW92ZSBsaXN0ZW5lciBmcm9tIHByZXZpb3VzIGd1ZXNzLCAtLT4gY29tcHV0ZXIgdHVybiBcclxuLWdlbmVyYXRlIHJhbmRvbSBndWVzcyB1bnRpbCB2YWxpZCBndWVzc1xyXG4tSHVtYW4ucmVjZWl2ZSBhdHRhY2tcclxuLVVwZGF0ZSBib2FyZCB3aXRoIGd1ZXNzIHJlc3VsdFxyXG4tQ2hlY2sgZm9yIGFsbCBzdW5rXHJcbi1pZiBhbGwgc3VuaywgcmVtb3ZlIGFsbCBsaXN0ZW5lcmVzLCByZXR1cm4sIGRpc3BsYXkgd2lubmVyXHJcbi1pZiBub3QgYWxsIHN1bmsgLS0+IGRvIG5vdGhpbmcuIFxyXG5cclxuKi9cclxuXHJcbi8qXHJcbnJlY2VpdmUgYXR0YWNrIFxyXG5maW5kIHJvdyBkaXYgYnkgYXR0cmlidXRlIC0tPiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXllclwiKS5xdWVyeVNlbGVjdG9yQWxsKCdbeS1Db3JkPVwiMVwiXScpO1xyXG5maW5kIGJveCBkaXYgYnkgYXR0cmlidXRlXHJcblxyXG5pZihwbGF5ZXIuYm9hcmQuYm9hcmRbeUd1ZXNzIC0xXVt4R3Vlc3MgLTFdID09ICdtaXNzJylcclxue1xyXG4gIGFkZCBjbGFzcyBuYW1lIG1pc3NcclxufWVsc2V7XHJcbiAgYWRkIGNsYXNzIG5hbWUgaGl0XHJcbn1cclxuICBOZWVkIGZ1bmN0aW9ucyBmb3I6XHJcbiAgICAtUmVtb3ZpbmcgYWxsIGd1ZXNzIGxpc3RlbmVyc1xyXG4gICAgXHJcblxyXG5cclxuKi9cclxuXHJcbmV4cG9ydHMuY3JlYXRlU2hpcCA9IGNyZWF0ZVNoaXA7XHJcbmV4cG9ydHMuY3JlYXRlR2FtZUJvYXJkID0gY3JlYXRlR2FtZUJvYXJkO1xyXG5leHBvcnRzLmdhbWVMb29wID0gZ2FtZUxvb3A7XHJcblxyXG4vKlxyXG4yZCBBcnJheTpcclxuICB4LT4gICAwICAgICAgIDEgICAgICAgICAyICAgICAgICAgMyAgICAgICA0ICAgICAgIDUgICAgICAgNlxyXG4gICAgMCBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICAgIDEgW1wiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIl0sXHJcbiAgICAyIFtcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCJdLFxyXG4gICAgMyBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICAgIDQgW1wiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIl0sXHJcbiAgICA1IFtcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCJdLFxyXG4gICAgNiBbXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiLCBcImVtcHR5XCIsIFwiZW1wdHlcIiwgXCJlbXB0eVwiXSxcclxuICAgIF5cclxuICAgIHlcclxuICAgIEVhY2ggbmV3IHN1Yi1hcnJheSBpcyBhIHkgaW5jcmVtZW50YXRpb25cclxuICAgIEVhY2ggaW5kZXggaW5zaWRlIG9mIHRoZSBzdWJhcnJheSBpcyBhIHgtIGluY3JlbWVudGF0aW9uXHJcbiAgICBCb2FyZCB3aWxsIGJlIHkgPSAwIGZyb20gdGhlIHRvcCB4ID0gMCBmcm9tIHRoZSBsZWZ0XHJcbiAgICBib2FyZFtyb3ddW2NvbHVtbl1cclxuKi9cclxuXHJcbi8qXHJcbiAgICBTaGlwczpcclxuICAgIENhcnJpZXItIDVcclxuICAgIEJhdHRsZXNoaXAgLSA0XHJcbiAgICBDcnVpc2VyIC0gM1xyXG4gICAgU3VibWFyaW5lIC0gM1xyXG4gICAgRGVzdHJveWVyIC0gMlxyXG5cclxuKi9cclxuXHJcbi8qXHJcblxyXG5Gb3IgY29tcHV0ZXIgZ3Vlc3Nlc3M6XHJcbmxldCB4R3Vlc3MgPSBNYXRoLnJhbmRvbSg3KTtcclxubGV0IHlHdWVzcyA9IE1hdGgucmFuZG9tKDcpO1xyXG53aGlsZSghcDEuYm9hcmQucmVjZWl2ZUF0dGFjayh5R3Vlc3MsIHhHdWVzcykpXHJcbntcclxuICB4R3Vlc3MgPSBNYXRoLnJhbmRvbSg3KTtcclxuICB5R3Vlc3MgPSBNYXRoLnJhbmRvbSg3KTtcclxufVxyXG5cclxuRm9yIGdhbWUgbG9vcFwiXHJcbmxldCB0dXJuQ291bnRlciA9IDE7XHJcbmxldCB3aW5uZXIgPSBudWxsO1xyXG53aGlsZSh3aW5uZXIgPT0gbnVsbClcclxue1xyXG4gIGlmKHR1cm5Db3VudGVyJTIgPT0gKVxyXG4gIHtcclxuICAgIGdldCBndWVzcyB2YWx1ZXNcclxuICAgIHdoaWxlKCFwMi5ib2FyZC5yZWNlaXZlQXR0YWNrKHZhbHVlcykpXHJcbiAgICB7XHJcbiAgICAgIHVwZGF0ZSBndWVzcyB2YWx1ZXNcclxuICAgIH1cclxuICAgIGNoZWNrIGZvciBhbGwgc3Vua1xyXG4gIH1lbHNle1xyXG5sZXQgeEd1ZXNzID0gTWF0aC5yYW5kb20oNyk7XHJcbmxldCB5R3Vlc3MgPSBNYXRoLnJhbmRvbSg3KTtcclxud2hpbGUoIXAxLmJvYXJkLnJlY2VpdmVBdHRhY2soeUd1ZXNzLCB4R3Vlc3MpKVxyXG57XHJcbiAgeEd1ZXNzID0gTWF0aC5yYW5kb20oNyk7XHJcbiAgeUd1ZXNzID0gTWF0aC5yYW5kb20oNyk7XHJcbn1cclxuY2hlY2sgZm9yIGFsbCBzdW5rXHJcbiAgfVxyXG4gIHR1cm5Db3VudGVyKys7XHJcbn1cclxuXHJcblxyXG5cclxuTmVlZCBhIHdheSB0byB3YWl0IGZvciBuZXcgdmFsdWVzIGlmIGd1ZXNzIGZyb20gdXNlciBpcyBpbnZhbGlkXHJcbk1heWJlIGFuIG9uY2xpY2sgbWV0aG9kIHRoYXQgc2VuZHMgdmFsdWVzXHJcbk5lZWQgYSB3YXkgdG8gZ2V0IHJldHVybiBmcm9tIGNoZWNrIGlmIGFsbCBhcmUgc3Vuaz8gTWF5YmUgcmVtb3ZlIGl0IGZyb20gcmVjZWl2ZVxyXG5hdHRhY2sgYW5kIGNhbGwgaXQgYWZ0ZXIgZXZlcnkgdHVybiBcclxuXHJcbiovXHJcblxyXG4vKlxyXG4tUmVuZGVyIGVtcHR5IGJvYXJkXHJcbi1OZWVkIGEgd2F5IHRvIHRyYWNrIHdoaWNoIHNxdWFyZSBpcyBnZXR0aW5nIGNsaWNrZWQgaW4gcmVsYXRpb24gdG8gdGhlIDJkIGFycmF5XHJcbi1SZW5kZXIgYm9hcmQgYWZ0ZXIgcGxhY2luZyBlYWNoIHNoaXAgdy9hIHNoaXAgbWFya2VyXHJcbi1VcGRhdGUgc3F1YXJlcyBhZnRlciBlYWNoIGd1ZXNzIG9uIGVhY2ggc2lkZS4gXHJcbi1NYXliZSB1c2UgZ2V0IHNvdXJjZSB0byBnZXQgMmQgYXJyYXkgY29vcmRpbmF0ZXNcclxuXHJcblxyXG4tRXhwb3J0IGNvbXB1dGVyIHBsYXllclxyXG4tRXhwb3J0IHR1cm4gY291bnRlciB0byB0cmFjayB3aGVuIGNvbXAgc2hvdWxkIG1ha2UgYSBtb3ZlIGFuZCB3aGVuIHRvIGNoZWNrIGZvclxyXG5hbGwgc3VuayBmb3Igd2hvc2UgYm9hcmRcclxuLSBFdmVudCBsaXN0ZW5lciBvbiByaWdodCBzaWRlIGJvYXJkIGZvciBjb21wLmJvYXJkLnJlY2VpdmVBdHRhY2tcclxuLSBFbXB0eSB3aGlsZSBsb29wIHdpdGggY29uZGl0aW9uIG9mIHR1cm5Db3VudCBtb2QgMiA9PSAwLCBhZGQgdHVybkNvdW50IGluY3JlbWVudFxyXG4tIHRvIGd1ZXNzIG9uIGNsaWNrIFxyXG5cclxuKi9cclxuXHJcbi8qXHJcbjYvMTMvMjIgV2hhdCdzIExlZnQgVG8gRG86XHJcbi1Nb2RhbHNcclxuLVN0eWxpbmdcclxuLVBsYXkgQWdhaW4gQnV0dG9ucyAtPiBvbiBtb2RhbCBhbmQgb24gc2NyZWVuXHJcbi1BZGQgcmFkaW8gZm9yIGhvcml6IHZlcnQgcGxhY2VtZW50XHJcbiovXHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNoaXBzIiwibmFtZSIsImxlbmd0aCIsInBsYWNlZCIsInNoaXBJbmRleCIsImVtcHR5UmVuZGVyIiwiZGl2IiwicGFyZW50RGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJvd0FyciIsImkiLCJyb3ciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic2V0QXR0cmlidXRlIiwiYm94IiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJqIiwicGxhY2VTaGlwTGlzdGVuZXJzIiwicm93cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjdXJSb3ciLCJjdXJZQ29yZCIsImdldEF0dHJpYnV0ZSIsImNoaWxkTm9kZXMiLCJjdXJCb3giLCJjdXJYQ29yZCIsInVzZXIiLCJib2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkFkZFNoaXBDbGljayIsImRpcmVjdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZSIsInBsYWNlU2hpcCIsImV2ZW50IiwidGFyZ2V0IiwicGFyZW50Tm9kZSIsInBsYXllciIsInNoaXAiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQWRkU2hpcHMiLCJzaGlwc1BsYWNlZCIsInN0eWxlIiwiZGlzcGxheSIsInJlZnJlc2hCb2FyZCIsImd1ZXNzQ2xpY2siLCJ1c2VyWUd1ZXNzIiwidXNlclhHdWVzcyIsInVzZXJZUXVlcnkiLCJ1c2VyWFF1ZXJ5IiwidXNlckJveE9mSW50ZXJlc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29tcCIsInJlY2VpdmVBdHRhY2siLCJjaGVja0ZvckFsbFN1bmsiLCJkaXNwbGF5TW9kYWwiLCJjb21wWEd1ZXNzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29tcFlHdWVzcyIsImNvbXBZUXVlcnkiLCJjb21wWFF1ZXJ5IiwiY29tcEJveE9mSW50ZXJlc3QiLCJ3aW5uZXIiLCJtb2RhbCIsImlubmVySFRNTCIsImdhbWVCb2FyZCIsInNoaXBUb1BsYWNlIiwic3RhcnRpbmdDb2x1bW4iLCJzdGFydGluZ0NvcmQiLCJzdGFydGluZ1hDb3JkIiwic3RhcnRpbmdSb3ciLCJzdGFydGluZ1lDb3JkIiwiZW5kaW5nQ29sdW1uIiwiZW5kaW5nQ29yZCIsImVuZGluZ1hDb3JkIiwiZW5kaW5nUm93IiwiZW5kaW5nWUNvcmQiLCJ0aGlzIiwieUNvcmQiLCJ4Q29yZCIsInBhcnNlSW50IiwiaGVhbHRoIiwic3VuayIsInB1c2giLCJzaGlwUG9pbnQiLCJoaXRTdGF0dXMiLCJjb29yZGluYXRlcyIsImlzU3VuayIsImhpdCIsImhpdFBvaW50IiwiY2hlY2tGb3JWYWxpZFBsYWNlbWVudCIsInBsYWNlT2JqIiwic3BvdCIsInNoaXBOYW1lIiwiZmlsdGVyIiwic2giLCJwb2ludEFyciIsInBvaW50IiwidHlwZSIsIndhaXRGb3JTaGlwcyIsImRpcmVjdGlvbnMiLCJwbGFjZUNvbXB1dGVyU2hpcHMiLCJhZGRHdWVzc0NsaWNrIiwic2V0VGltZW91dCIsInBsYXlBZ2FpbiIsInVzZXJCb2FyZCIsImd1ZXNzQm9hcmQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJjbGVhckJvYXJkcyIsImNsZWFyQXJyYXlzIiwiYnV0dG9uIiwiYnV0dG9uMyIsImJ1dHRvbjQiLCJtb2RhbDIiLCJ3aW5kb3ciLCJvbmNsaWNrIiwiaW5pdGlhbGl6ZUJ1dHRvbiIsImNyZWF0ZVNoaXAiLCJjcmVhdGVHYW1lQm9hcmQiLCJnYW1lTG9vcCJdLCJzb3VyY2VSb290IjoiIn0=
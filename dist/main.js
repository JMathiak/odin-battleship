(()=>{function t(t){let r={};return r.type=t,r.board=e={ships:[],board:[["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"]],checkForValidPlacement:function(t){if(null==this.ships[0])return!0;let r=t.startingCord.startingXCord,e=t.startingCord.startingYCord,o=t.endingCord.endingXCord,a=t.endingCord.endingYCord;if("vertical"==t.direction){if(a>6)return!1;for(let t=e;t<a;t++)if("empty"!==this.board[t][r])return!1}else if("horizontal"==t.direction){if(o>6)return!1;for(let t=r;t<o;t++)if("empty"!==this.board[e][t])return!1}return!0},placeShip:function(t,r,o,a,n){let i={},h={startingXCord:n,startingYCord:a};"horizontal"==t?(i.endingXCord=n+o-1,i.endingYCord=a):"vertical"==t&&(i.endingXCord=n,i.endingYCord=a+o-1);let l=function(t,r,e,o,a){var n={};if(n.name=t,n.length=e,n.startingCord=o,n.endingCord=a,n.health=[],n.sunk=!1,n.direction=r,"horizontal"==r)for(let t=0;t<e;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord+t,yCord:o.startingYCord}});else if("vertical"==r)for(let t=0;t<e;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord,yCord:o.startingYCord+t}});return n.isSunk=function(){for(let t=0;t<this.length;t++)if("false"===this.health[t].hitStatus)return!1;return this.sunk=!0,!0},n.hit=function(t){this.health[t].hitStatus="true"},n}(r,t,o,h,i);if(0==this.checkForValidPlacement(l))return!1;if(e.ships.push(l),"horizontal"==t)for(let t=0;t<o;t++){let r={name:l.name,spot:l.health[t]};this.board[a][n+t]=r}else if("vertical"==t)for(let t=0;t<o;t++){let r={name:l.name,spot:l.health[t]};this.board[a+t][n]=r}return!0},receiveAttack:function(t,r){if("empty"!==this.board[t][r]&&"miss"!==this.board[t][r]){let e=this.board[t][r].name,o=this.ships.filter((t=>t.name==e))[0],a=o.health.filter((e=>e.coordinates.xCord===r&&e.coordinates.yCord===t));return o.hit(a[0].shipPoint),o.isSunk(),!0}return"empty"==this.board[t][r]?(this.board[t][r]="miss",!0):"miss"!=this.board[t][r]&&"true"!=this.board[t][r].spot.hitStatus},checkForAllSunk:function(){for(let t=0;t<this.ships.length;t++)if(0==this.ships[t].sunk)return!1;return!0}},r;var e}!function(){let r=t("human"),e=t("computer"),o=null,a=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],n=[5,4,3,3,2],i=["horizontal","vertical"],h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random()),m=Math.floor(1*Math.random());for(let t=0;t<a.length;t++)for(;!e.board.placeShip(i[m],a[t],n[t],l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());for(let t=0;t<a.length;t++)for(;!r.board.placeShip(i[m],a[t],n[t],l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());for(;null==o;){for(h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());!e.board.receiveAttack(l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());if(1==e.board.checkForAllSunk()&&(o="Human"),null==o){for(h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());!r.board.receiveAttack(l,h);)h=Math.floor(7*Math.random()),l=Math.floor(7*Math.random());1==r.board.checkForAllSunk()&&(o="Computer")}}}()})();
(()=>{function t(t){let e={};return e.type=t,e.board=r={ships:[],board:[["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"],["empty","empty","empty","empty","empty","empty","empty"]],checkForValidPlacement:function(t){let e=t.startingCord.startingXCord,r=t.startingCord.startingYCord,o=t.endingCord.endingXCord,i=t.endingCord.endingYCord;if("vertical"==t.direction){if(6==r)return!1;if(i>6)return console.log(t.name,i),!1;for(let t=r;t<i;t++)if("empty"!==this.board[t][e])return!1}else if("horizontal"==t.direction){if(6==e)return!1;if(o>6)return!1;for(let t=e;t<o;t++)if("empty"!==this.board[r][t])return!1}return!0},placeShip:function(t,e,o,i,n){let a={},s={startingXCord:n,startingYCord:i};"horizontal"==t?(a.endingXCord=n+o-1,a.endingYCord=i):"vertical"==t&&(a.endingXCord=n,a.endingYCord=i+o-1);let d=function(t,e,r,o,i){var n={};if(n.name=t,n.length=r,n.startingCord=o,n.endingCord=i,n.health=[],n.sunk=!1,n.direction=e,"horizontal"==e)for(let t=1;t<=r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord+t,yCord:o.startingYCord}});else if("vertical"==e)for(let t=1;t<=r;t++)n.health.push({shipPoint:t,hitStatus:"false",coordinates:{xCord:o.startingXCord,yCord:o.startingYCord+t}});return n.isSunk=function(){for(let t=0;t<this.length;t++)if("false"===this.health[t].hitStatus)return!1;return this.sunk=!0,!0},n.hit=function(t){this.health[t].hitStatus="true"},n}(e,t,o,s,a);if(0==this.checkForValidPlacement(d))return!1;if(r.ships.push(d),"horizontal"==t)for(let t=0;t<o;t++){let e={name:d.name,spot:d.health[t]};this.board[i][n+t]=e}else if("vertical"==t)for(let t=0;t<o;t++){let e={name:d.name,spot:d.health[t]};this.board[i+t][n]=e}return!0},receiveAttack:function(t,e){if("empty"!==this.board[t][e]&&"miss"!==this.board[t][e]){let r=this.board[t][e].name,o=this.ships.filter((t=>t.name==r))[0],i=o.health.filter((r=>r.coordinates.xCord===e&&r.coordinates.yCord===t));return o.hit(i[0].shipPoint),o.isSunk(),!0}return"empty"==this.board[t][e]?(this.board[t][e]="miss",!0):"miss"!=this.board[t][e]&&"true"!=this.board[t][e].spot.hitStatus},checkForAllSunk:function(){for(let t=0;t<this.ships.length;t++)if(0==this.ships[t].sunk)return!1;return!0}},e;var r}!function(){let e=["Carrier","Battleship","Cruiser","Submarine","Destroyer"],r=[5,4,3,3,2],o=["horizontal","vertical"],i=Math.floor(7*Math.random()),n=Math.floor(7*Math.random()),a=Math.floor(2*Math.random()),s=t("human");for(let t=0;t<e.length;t++)for(;!s.board.placeShip(o[a],e[t],r[t],n,i);)i=Math.floor(7*Math.random()),n=Math.floor(7*Math.random()),a=Math.floor(1*Math.random());let d=document.getElementById("player"),l=["A","B","C","D","E","F","G"];for(let t=0;t<8;t++){let e=document.createElement("div");if(e.className="row",e.setAttribute("Y-Cord",t),0==t){let t=document.createElement("div");t.className="box",t.innerText="Y/X ",e.appendChild(t)}for(let r=0;r<8;r++){let o=document.createElement("div");o.className="box",o.setAttribute("X-Cord",r),0==t?7!==r&&(o.innerText=l[r]):0==r?o.innerText=t:"empty"==s.board.board[t-1][r-1]?o.innerText=s.board.board[t-1][r-1]:(o.innerText=s.board.board[t-1][r-1].name,o.classList.add("ship"),o.addEventListener("click",(function(){let e=s.board.board[t-1][r-1].name,o=s.board.ships.filter((t=>t.name==e))[0];console.log(o),console.log(s.board.board)}))),7==r&&0==t||e.appendChild(o)}d.appendChild(e)}}()})();